@model ResponseModel<User>

@{
	Layout = null;
}

<div class="col-md-12">
	<div class="card card-info">

		<div class="card-header">
			<h3 class="card-title">@(Model.Obj != null && Model.Obj.Id > 0 ? "Edit" : "Create") User</h3>
			<input type="text" class="form-control d-none" id="Id" name="Obj.Id" value="@(Model.Obj != null && Model.Obj.Id > 0 ? Model.Obj.Id.ToString() : "")">
			<input type="text" class="form-control d-none" id="RoleId" name="Obj.RoleId" value="@(Model.Obj != null && Model.Obj.User_Role_Id > 0 ? Model.Obj.User_Role_Id.ToString() : "")">
			<input type="text" class="form-control d-none" id="User_Id_Str" name="Obj.User_Id_Str" value="@(Model.Obj != null ? Model.Obj.User_Id_Str : "")">
			<input type="text" class="form-control d-none" id="Role_Id_Str" name="Obj.Role_Id_Str" value="@(Model.Obj != null ?Model.Obj.Role_Id_Str : "")">
		</div>

		<div class="card-body form-horizontal">
			<div class="row mb-3">
				<label for="Username" class="col-2 col-form-label text-end">Username</label>
				<div class="col-4">
					<input type="text" class="form-control form-control-sm" id="Username" name="Obj.Username" value="@Model.Obj.UserName" placeholder="Username" autocomplete="off">
				</div>
			</div>

			@if (Model.Obj == null || Model.Obj.Id == 0)
			{
				<div class="row mb-3 @(Model.Obj != null && Model.Obj.Id > 0 ? "d-none": "")">
					<label for="Password" class="col-2 col-form-label text-end">Password</label>
					<div class="col-4">
						<div class="input-group input-group-merge">
							<input type="password" id="Password" name="Obj.Password" class="form-control form-control-sm" placeholder="********" autocomplete="off">
							<div class="input-group-text input-group-text-sm" data-password="true">
								<span class="password-eye"></span>
							</div>
						</div>
					</div>
				</div>
			}
			else
			{
				<div class="row mb-3">
					<label for="Obj.IsPassword_Reset" class="col-2 col-form-label text-end">Password Reset</label>
					<div class="col-4">
						<div class="form-check form-check-inline form-control border-0">
							<input type="checkbox" class="form-check-input" id="switch_Password_Reset"
								   name="Obj.IsPassword_Reset" onchange="fnChange_Switch(this, 'label_Switch_Password_Reset')">
							<label class="form-check-label" for="switch_Password_Reset" id="label_Switch_Password_Reset" data-true="Yes" data-false="No">No</label>
						</div>
					</div>
				</div>
			}

			<div class="row mb-3">
				<label for="Status" class="col-2 col-form-label text-end">Status</label>
				<div class="col-4">
					<div class="form-check form-check-inline form-control border-0">
						<input type="checkbox" class="form-check-input" id="switch_Status"
							   name="Obj.IsActive" @((Model.Obj != null && Model.Obj.IsActive == true) || Model.Obj.Id == 0 ? "checked" : "")
							   onchange="fnChange_Switch(this, 'label_Switch_Status')">
						<label class="form-check-label" for="switch_Status" id="label_Switch_Status" data-true="Active" data-false="Inactive">
							@((Model.Obj != null && Model.Obj.IsActive == true) || Model.Obj.Id == 0 ? "Active" : "Inactive")
						</label>
					</div>
				</div>
			</div>

			<div class="row mb-3">
				<label for="Role" class="col-2 col-form-label text-end">Role</label>
				<div class="col-4">
					<select id="ddlUser_Role_Id" name="Obj.User_Role_Id" class="form-control form-control-sm select2">
						<option value="0">-- Select --</option>
						@if (Model.SelectListItems != null)
						{
							foreach (var item in Model.SelectListItems.Where(x => x.Group == "R"))
							{
								if (Model.Obj.User_Role_Id.ToString() == item.Value || Model.SelectListItems.Where(x => x.Group == "R").Count() == 1)
								{
									<option value="@item.Value" selected>@item.Text</option>
								}
								else
								{
									<option value="@item.Value">@item.Text</option>
								}
							}
						}
					</select>
				</div>
			</div>

		</div>

		<div class="card-footer">
			<div class="justify-content-end row">
				<div class="col-10">
					<button type="button" class="btn btn-success btnSubmit px-5">Save</button>
					<button type="button" class="btn btn-outline-danger px-3" onclick="fnBackToList();">Cancel</button>
				</div>
			</div>

		</div>
	</div>
</div>

@section Scripts {
	<script type="text/javascript">
		$(document).ready(function () {

		});
	</script>
}
